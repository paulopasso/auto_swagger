components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    NewUser:
      type: object
      required:
        - name
        - email
        - role
      properties:
        name:
          type: string
          example: "New Manager"
        email:
          type: string
          format: email
          example: "new@company.com"
        role:
          type: string
          enum: [admin, manager, viewer]
          example: "manager"

    User:
      allOf:
        - $ref: '#/components/schemas/NewUser'
        - type: object
          properties:
            id:
              type: integer
              example: 300

    ErrorResponse:
      type: object
      properties:
        error:
          type: string
          example: "FORBIDDEN"
        message:
          type: string
          example: "Only admins can create users."
